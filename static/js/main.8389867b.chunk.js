(this["webpackJsonpunme-photo"]=this["webpackJsonpunme-photo"]||[]).push([[0],{24:function(n,e,t){n.exports=t(43)},42:function(n,e){function t(n){var e=new Error("Cannot find module '"+n+"'");throw e.code="MODULE_NOT_FOUND",e}t.keys=function(){return[]},t.resolve=t,n.exports=t,t.id=42},43:function(n,e,t){"use strict";t.r(e);var o=t(1),a=t.n(o),r=t(20),i=t.n(r),c=t(10),u=t(7),s=t(8),l=t(16),f=t.n(l),p=t(14),d=t(9),m=t.n(d);t(40);function b(){var n=Object(u.a)(["\n  position: fixed;\n  padding: 10px 20px;\n  border-radius: 5px;\n  font-size: 15px;\n  background: white;\n  bottom: 5vh;\n  right: 4vw;\n  cursor: pointer;\n"]);return b=function(){return n},n}function h(){var n=Object(u.a)(["\n  display: none;\n"]);return h=function(){return n},n}function g(){var n=Object(u.a)(["\n  display: flex;\n  flex-wrap: wrap;\n"]);return g=function(){return n},n}function v(){var n=Object(u.a)(["\n  width: 100%;\n"]);return v=function(){return n},n}function O(){var n=Object(u.a)(["\n  width: 100%;\n  margin: 10px;\n  box-sizing: border-box;\n  position: relative;\n  &:before {\n    ","\n  }\n  border: $4px solid transparent;\n"]);return O=function(){return n},n}f.a.initializeApp({apiKey:"AIzaSyBu6AZ7U-mXlw9pInObwtaCuW02u01-32M",authDomain:"unme-test-8e49b.firebaseapp.com",databaseURL:"https://unme-test-8e49b.firebaseio.com",projectId:"unme-test-8e49b",storageBucket:"unme-test-8e49b.appspot.com",messagingSenderId:"586093179471",appId:"1:586093179471:web:e2a59d8701fa9b71fe303a",measurementId:"G-PSHFT5M5QD"});var j=s.a.div(O(),(function(n){return-1!==n.pickList.indexOf(n.id)?'content: "\u5df2\u9078\u64c7";\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    font-size: 30px;\n    color: white;\n    background: rgba(18, 132, 255, 0.5);\n    width: 100%;\n    height: 100%;\n    font-family:PingFang TC, Noto Sans CJK TC, Noto Sans TC, Microsoft JhengHei;\n    font-weight: bold;\n    letter-spacing: 2px;\n    position: absolute;\n    pointer-events: none':""})),w=s.a.img(v()),x=s.a.div(g()),k=s.a.div(h()),y=s.a.div(b()),E=function(){var n,e=Object(o.useState)([]),r=Object(c.a)(e,2),i=r[0],u=r[1],s=Object(o.useState)(!0),l=Object(c.a)(s,2),d=l[0],b=l[1],h=Object(o.useState)(!1),g=Object(c.a)(h,2),v=g[0],O=g[1],E=Object(o.useState)(!1),C=Object(c.a)(E,2),S=C[0],I=C[1],M=Object(o.useRef)(""),z=(n=t(42)).keys().map(n),A=z.map((function(n){return n.split("/").pop().split(".").shift()})),D=f.a.database();Object(o.useEffect)((function(){D.ref("/").on("value",(function(n){var e=Object.entries(Object(p.get)(n.val(),"MAYO","")).map((function(n){return n[1]}));M.current=e}))}),[]),Object(o.useEffect)((function(){m.a.init({liffId:"1655422524-z7Y2doDm"}).then((function(){I(!0)}))}),[]);var F=Object(o.useCallback)((function(){return z.map((function(n,e){return a.a.createElement(j,{pickList:i,id:A[e],key:e},a.a.createElement(k,{type:"checkbox",id:A[e]}),a.a.createElement("label",{htmlFor:A[e]},a.a.createElement(w,{"data-src":n,alt:A[e],onClick:function(){return function(n){var e=i;-1!==e.indexOf(n)?e.splice(e.indexOf(n),1):e.push(n),u((function(){return e})),b(!d)}(A[e])},className:"lazyload"})))}))}),[d]);return S?a.a.createElement(x,null,F(),a.a.createElement(y,{onClick:function(){return new Promise((function(n,e){D.ref("/".concat("MAYO")).push(i),n()})).then((function(){var n=Object(p.flatten)(M.current),e=Object(p.uniq)(n),t=[];return e.map((function(e){t.push({name:e,count:n.filter((function(n){return n===e})).length})})),t.sort((function(n,e){var t=function(n){var e=n.name.split("_")[1];return e.includes("-")?e.split("-")[0]:e};return t(n)-t(e)})),{picked:M.current,total:t}})).then((function(n){O(!0),function(n){if(m.a.isInClient()){m.a.sendMessages([{type:"text",text:"\u6211\u5df2\u9078\u64c7\u4e86".concat(n.picked.pop())},{type:"text",text:"\u73fe\u5728\u7684\u7d71\u8a08\u70ba - \n".concat(n.total.map((function(n){return"".concat(n.name,"\uff1a ").concat(n.count,"\u5f35\n")})).join(""))}]).then((function(){m.a.closeWindow()})).catch((function(n){console.log("error",n)}))}else console.log("is not at mobile")}(n),console.log(n)}))},style:{pointerEvents:v?"none":"inherit"}},v?"\u5df2\u5b8c\u6210":"\u78ba\u8a8d")):a.a.createElement(a.a.Fragment,null,"loading...")};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(E,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(n){n.unregister()})).catch((function(n){console.error(n.message)}))}},[[24,1,2]]]);
//# sourceMappingURL=main.8389867b.chunk.js.map